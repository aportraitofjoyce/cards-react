(this["webpackJsonpcards-react"]=this["webpackJsonpcards-react"]||[]).push([[0],{22:function(e,t,n){e.exports={container:"Input_container__3GYcG",errorInput:"Input_errorInput__3GgPO",error:"Input_error__2xVl4"}},23:function(e,t,n){e.exports={wrapper:"NewPassword_wrapper__17zrJ",container:"NewPassword_container__GjiqG"}},24:function(e,t,n){e.exports={checkEmail:"CheckEmail_checkEmail__1T71d",container:"CheckEmail_container__3RPFL",icon:"CheckEmail_icon__2LX8H"}},28:function(e,t,n){e.exports={default:"Button_default__2galI",secondary:"Button_secondary__3XSP1",grouped:"Button_grouped__3cKo2"}},30:function(e,t,n){e.exports={wrapper:"Header_wrapper__2vAGZ",container:"Header_container__236E4"}},39:function(e,t,n){e.exports={checkbox:"Checkbox_checkbox__3lVeK"}},47:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),s=n(20),o=n.n(s),i=(n(47),n(3)),l=n(5),u=n(0),d=function(){var e=Object(l.c)((function(e){return e.login.name})),t=Object(l.c)((function(e){return e.login.avatar})),n=Object(l.c)((function(e){return e.login.publicCardPacksCount}));return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{children:[Object(u.jsx)("h1",{children:"Profile"}),Object(u.jsx)("div",{children:e}),Object(u.jsx)("div",{children:t}),Object(u.jsx)("div",{children:n})]})})},j=n(7),h=n(4),b=n(15),p=n(22),O=n.n(p),m=function(e){var t=e.type,n=e.onChange,r=e.onChangeText,a=e.onKeyPress,c=e.onEnter,s=e.error,o=e.className,i=e.spanClassName,l=Object(b.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),d="".concat(s?O.a.errorInput:"").concat(o||""),j="".concat(O.a.error).concat(i||"");return Object(u.jsxs)("div",{className:O.a.container,children:[Object(u.jsx)("input",Object(h.a)({type:t||"text",onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),c&&"Enter"===e.key&&c()},className:d,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442..."},l)),s&&Object(u.jsx)("span",{className:j,children:s})]})},x=n(28),f=n.n(x),g=function(e){var t=e.secondary,n=e.className,r=e.grouped,a=Object(b.a)(e,["secondary","className","grouped"]),c="".concat(t?f.a.secondary:"").concat(r?f.a.grouped:"").concat(n||"");return Object(u.jsx)("button",Object(h.a)({className:c},a))},v=n(39),w=n.n(v),E=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=(e.spanClassName,e.children),c=Object(b.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(w.a.checkbox).concat(r||"");return Object(u.jsxs)("label",{children:[Object(u.jsx)("input",Object(h.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),a&&Object(u.jsx)("span",{children:a})]})},y=n(6),C=n(40),_=n.n(C).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),R=function(e,t,n){return _.post("/auth/login",{email:e,password:t,rememberMe:n})},S="SET_USER_DATA",P={name:"",avatar:"",publicCardPacksCount:0},k=function(e,t,n){return function(r){R(e,t,n).then((function(e){var t=e.data,n=t.email,a=t.avatar,c=t.publicCardPacksCount;r(function(e,t,n){return{type:S,payload:{name:e,avatar:t,publicCardPacksCount:n}}}(n,a,c))})).catch((function(e){e.response?e.response.data.error:e.message;console.log("Error:",Object(h.a)({},e))})).finally()}},N=l.c,I=function(e,t){var n=Object(a.useState)(e),r=Object(j.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(!1),i=Object(j.a)(o,2),l=i[0],u=i[1];return{value:c,touched:l,onChange:function(e){return s(e.currentTarget.value)},onBlur:function(){return u(!0)},validation:L(c,t)}},L=function(e,t){var n=Object(a.useState)(!1),r=Object(j.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(""),i=Object(j.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)(""),h=Object(j.a)(d,2),b=h[0],p=h[1],O=Object(a.useState)(""),m=Object(j.a)(O,2),x=m[0],f=m[1],g=Object(a.useState)(""),v=Object(j.a)(g,2),w=v[0],E=v[1];return Object(a.useEffect)((function(){for(var n in t)switch(n){case"isRequired":u(e?"":"Field is required");break;case"minLength":e.length<t[n]?f("Min length must be more than ".concat(t[n])):f("");break;case"maxLength":e.length>t[n]?E("Max length must be less than ".concat(t[n])):E("");break;case"isEmail":/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?p(""):p("Wrong email address")}}),[e]),Object(a.useEffect)((function(){s(!(l||b||x||w))}),[t]),{isValid:c,isRequired:l,isEmail:b,minLength:x,maxLength:w}},T=n(13),A=n.n(T),G=n(17),F=function(e){return _.post("/auth/register",e)},W={registerSuccess:!1},M=function(e){return _.post("/auth/forgot",e)},D=function(e){return _.post("/auth/set-new-password",e)},K={email:"your email"},H=function(e){return{type:"recovery/SET-EMAIL",email:e}},V=n(23),B=n.n(V),U=n(24),q=n.n(U);!function(e){e.HOME="/",e.ERROR="",e.PROFILE="/profile",e.LOGIN="/login",e.REGISTER="/register",e.PASSWORD_RECOVERY="/passrecovery",e.NEW_PASSWORD="/newpass",e.CHECK_EMAIL="/check-email",e.UI_KIT="/ui-kit"}(r||(r={}));var Z=[{path:r.HOME,component:d,exact:!0},{path:r.PROFILE,component:d},{path:r.LOGIN,component:function(){var e=N((function(e){return e.login})),t=Object(a.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),d=Object(j.a)(o,2),h=d[0],b=d[1],p=Object(a.useState)(!1),O=Object(j.a)(p,2),x=O[0],f=O[1],v=Object(l.b)(),w=Object(i.g)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Sign In"}),Object(u.jsxs)("form",{onSubmit:function(){v(k(c,h,x)),s(""),b(""),w.push(r.PROFILE),console.log(e)},children:[Object(u.jsx)("h1",{children:e.name}),Object(u.jsx)("label",{htmlFor:"loginEmail",children:"Email"}),Object(u.jsx)(m,{id:"loginEmail",type:"email",placeholder:"Enter your email address",value:c,onChange:function(e){return s(e.currentTarget.value)}}),Object(u.jsx)("label",{htmlFor:"loginPassword",children:"Password"}),Object(u.jsx)(m,{id:"loginPassword",type:"password",placeholder:"Enter your password",value:h,onChange:function(e){return b(e.currentTarget.value)}}),Object(u.jsx)(y.c,{to:r.PASSWORD_RECOVERY,children:Object(u.jsx)("h4",{children:"Forgot Password"})}),Object(u.jsx)(E,{checked:x,onChange:function(e){return f(e.currentTarget.checked)},children:"Remember me"}),Object(u.jsx)(g,{type:"submit",children:"Login"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Don\u2019t have an account?"}),Object(u.jsx)(y.c,{to:r.REGISTER,children:Object(u.jsx)("h4",{children:"Sign Up"})})]})]})]})}},{path:r.REGISTER,component:function(){var e=N((function(e){return e.register.registerSuccess})),t=Object(l.b)(),n=I("",{isRequired:!0,isEmail:!0}),a=I("",{minLength:7,maxLength:25}),c=I("",{minLength:7,maxLength:25});return Object(u.jsxs)("div",{children:[e&&Object(u.jsx)(i.a,{to:r.LOGIN}),Object(u.jsx)("h1",{children:"Register"}),Object(u.jsxs)("form",{onSubmit:function(){var e;t((e={email:n.value,password:a.value},function(){var t=Object(G.a)(A.a.mark((function t(n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(e);case 3:n({type:"REGISTER",payload:{status:!0}}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),r=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",alert(r);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,6,10,12]])})));return function(e){return t.apply(this,arguments)}}()))},style:{display:"flex",flexDirection:"column",gap:24},children:[Object(u.jsx)("label",{htmlFor:"registerEmail",children:"Email"}),Object(u.jsx)(m,Object(h.a)({id:"registerEmail",type:"email",placeholder:"Enter you email address..."},n)),n.touched&&n.validation&&Object(u.jsx)("span",{style:{color:"red"},children:n.validation.isRequired||n.validation.isEmail}),Object(u.jsx)("label",{htmlFor:"registerPassword",children:"Password"}),Object(u.jsx)(m,Object(h.a)({id:"registerPassword",type:"text",placeholder:"Enter your password..."},a)),a.touched&&a.validation&&Object(u.jsx)("span",{style:{color:"red"},children:a.validation.minLength||a.validation.maxLength}),Object(u.jsx)("label",{htmlFor:"registerConfirmPassword",children:"Confirm Password"}),Object(u.jsx)(m,Object(h.a)({id:"registerConfirmPassword",type:"text",placeholder:"Confirm your password..."},c)),c.touched&&c.validation&&Object(u.jsx)("span",{style:{color:"red"},children:c.validation.minLength||c.validation.maxLength}),Object(u.jsx)(g,{type:"submit",disabled:!n.validation.isValid||!a.validation.isValid||!c.validation.isValid,children:"Register"})]})]})}},{path:r.PASSWORD_RECOVERY,component:function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(l.b)(),o=Object(i.g)();return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:function(){/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(n)?(alert("\u043f\u0438\u0441\u044c\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u043f\u043e\u0447\u0442\u0443"),s(function(e){return function(){var t=Object(G.a)(A.a.mark((function t(n){var a,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:3000/cards-react#".concat(r.NEW_PASSWORD,"/$token$"),a="https://aportraitofjoyce.github.io/cards-react#".concat(r.NEW_PASSWORD,"/$token$"),t.prev=2,c={email:e,from:"test-front-admin,<sberBank_security@gmail.com>",message:"<div style='background-color: lime; padding: 15px'>password recovery link: <a href=".concat(a,">link</a></div>")},n(H(e)),t.next=7,M(c);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("some error forgotPassTC");case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}(n)),o.push(r.CHECK_EMAIL)):alert("email is not valid")},children:[Object(u.jsx)("h1",{children:"IT-incubator"}),Object(u.jsx)("h2",{children:"Forgot your password?"}),Object(u.jsx)(m,{type:"email",placeholder:"enter your email",value:n,onChange:function(e){return c(e.currentTarget.value)}}),Object(u.jsx)("span",{children:"Enter your address and we will send you further instructions"}),Object(u.jsx)("div",{children:Object(u.jsx)(g,{children:"Send instructions"})})]})})}},{path:r.NEW_PASSWORD,component:function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(j.a)(s,2),d=o[0],h=o[1],b=Object(l.b)(),p=Object(i.h)().token,O=Object(i.g)();return Object(u.jsx)("div",{className:B.a.wrapper,children:Object(u.jsx)("div",{className:B.a.container,children:Object(u.jsxs)("form",{className:B.a.form,onSubmit:function(){n===d?(alert("\u043f\u0430\u0440\u043e\u043b\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),b(function(e,t){return function(){var n=Object(G.a)(A.a.mark((function n(r){var a;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={password:t,resetPassToken:e},n.next=4,D(a);case 4:alert("\u043f\u0430\u0440\u043e\u043b\u044c \u0438\u0437\u043c\u0435\u043d\u0451\u043d"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("some error setNewPasswordTC");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(p,n)),O.push(r.LOGIN)):alert("\u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),c(""),h("")},children:[Object(u.jsx)("h1",{children:"IT-incubator"}),Object(u.jsx)("h2",{children:"Create new password"}),Object(u.jsx)("label",{htmlFor:"inputNewPassword",children:"NewPassword"}),Object(u.jsx)(m,{id:"inputNewPassword",type:"password",onChange:function(e){return c(e.currentTarget.value)},value:n,placeholder:"New password"}),Object(u.jsx)("label",{htmlFor:"RepeatNewPassword",children:"RepeatNewPassword"}),Object(u.jsx)(m,{id:"RepeatNewPassword",type:"password",onChange:function(e){return h(e.currentTarget.value)},value:d,placeholder:"Repeat new password"}),Object(u.jsx)("h3",{children:"Create new password and will send you further instructions to email"}),Object(u.jsx)(g,{type:"submit",children:"Create new password"})]})})})}},{path:r.CHECK_EMAIL,component:function(){var e=Object(l.c)((function(e){return e.password.email}));return Object(u.jsx)("div",{className:q.a.checkEmail,children:Object(u.jsxs)("div",{className:q.a.container,children:[Object(u.jsx)("h1",{children:"IT-incubator"}),Object(u.jsx)("div",{className:q.a.icon,children:Object(u.jsx)("img",{src:"https://su-19.ru/wp-content/uploads/2020/12/mail_ico.png",alt:"iconMail"})}),Object(u.jsxs)("h3",{children:["We've sent an Email with instructions to ",e]})]})})}},{path:r.UI_KIT,component:function(){return Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:24},children:[Object(u.jsx)(g,{children:"Button"}),Object(u.jsx)(m,{}),Object(u.jsx)(E,{children:"Check Me"})]})}},{path:r.ERROR,component:function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Error 404"})})}}],$=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(i.d,{children:Z.map((function(e){return Object(u.jsx)(i.b,{path:e.path,component:e.component,exact:e.exact},e.path)}))})})},Y=n(30),z=n.n(Y),J=function(){return Object(u.jsx)("div",{className:z.a.wrapper,children:Object(u.jsxs)("nav",{className:z.a.container,children:[Object(u.jsx)(y.b,{to:r.HOME,children:"Home"}),Object(u.jsx)(y.b,{to:r.PROFILE,children:"Profile"}),Object(u.jsx)(y.b,{to:r.LOGIN,children:"Login"}),Object(u.jsx)(y.b,{to:r.REGISTER,children:"Register"}),Object(u.jsx)(y.b,{to:r.PASSWORD_RECOVERY,children:"Password Recovery"}),Object(u.jsx)(y.b,{to:r.NEW_PASSWORD,children:"New Password"}),Object(u.jsx)(y.b,{to:r.CHECK_EMAIL,children:"Check email"}),Object(u.jsx)(y.b,{to:r.UI_KIT,children:"UI Kit"})]})})},X=n(25),Q=n(42),ee={},te={},ne={},re=Object(X.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;return t.type,e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;return t.type,e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return t.type,e},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(h.a)(Object(h.a)({},e),{},{avatar:t.payload.avatar,name:t.payload.name,publicCardPacksCount:t.payload.publicCardPacksCount});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":return Object(h.a)(Object(h.a)({},e),{},{registerSuccess:t.payload.status});default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"recovery/SET-EMAIL":return Object(h.a)(Object(h.a)({},e),{},{email:t.email});default:return e}}}),ae=Object(X.c)(re,Object(X.a)(Q.a)),ce=function(){return Object(u.jsx)(y.a,{children:Object(u.jsxs)(l.a,{store:ae,children:[Object(u.jsx)(J,{}),Object(u.jsx)($,{})]})})};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(ce,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.f343c866.chunk.js.map